{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-c4598fb6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Witaj w PLK!\", -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"To jest widok dla trasy PLK.\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"error\"\n};\nconst _hoisted_5 = {\n  key: 2\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Miejsce\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Drużyna\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Punkty\")])], -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_router_view), _hoisted_1, _hoisted_2, $data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \"Ładowanie danych...\")) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), !$data.isLoading && !$data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"table\", null, [_hoisted_6, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.teams, (team, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString(team.position), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(team.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(team.points), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementVNode","key","class","_createElementBlock","_createVNode","_component_router_view","_hoisted_1","_hoisted_2","$data","isLoading","_hoisted_3","_createCommentVNode","error","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_Fragment","_renderList","teams","team","index","position","name","points"],"sources":["/home/shymoon/Desktop/WebDevProjects/basket-world/src/views/Plk.vue"],"sourcesContent":["<template>\n  <div>\n    <router-view />\n    <h1>Witaj w PLK!</h1>\n    <p>To jest widok dla trasy PLK.</p>\n\n    <div v-if=\"isLoading\">Ładowanie danych...</div>\n\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"!isLoading && !error\">\n      <table>\n        <thead>\n          <tr>\n            <th>Miejsce</th>\n            <th>Drużyna</th>\n            <th>Punkty</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(team, index) in teams\" :key=\"index\">\n            <td>{{ team.position }}</td>\n            <td>{{ team.name }}</td>\n            <td>{{ team.points }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { WebDriver } from \"selenium-webdriver\";\nimport chrome from \"selenium-webdriver/chrome\";\n\nexport default {\n  name: \"PLKView\",\n  data() {\n    return {\n      isLoading: false,\n      error: null,\n      teams: [],\n    };\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      this.isLoading = true;\n\n      // Inicjalizacja przeglądarki Selenium (Chrome)\n      let driver = new WebDriver.Builder()\n        .forBrowser(\"chrome\")\n        .setChromeOptions(new chrome.Options().headless()) // Opcjonalne: uruchom w trybie bezinterakcyjnym (bez okna)\n        .build();\n\n      // Otwarcie strony z danymi\n      driver.get(\"https://plk.pl/tabele.html\");\n\n      // Poczekaj, aż tabela z danymi się załaduje\n      driver\n        .wait(() => driver.findElement({ css: \".tabpages table\" }), 10000)\n        .then(() => {\n          // Znajdź tabelę z danymi\n          driver\n            .findElements({ css: \".tabpages table tbody tr\" })\n            .then((rows) => {\n              // Iteruj przez wszystkie wiersze\n              rows.forEach((row) => {\n                // Znajdź wszystkie komórki danych\n                row.findElements({ css: \"td\" }).then((cells) => {\n                  // Pobierz tekst z komórek i dodaj dane do listy\n                  cells.then((cells) => {\n                    cells\n                      .map((cell) => cell.getText())\n                      .then((values) => {\n                        this.teams.push({\n                          position: values[0],\n                          name: values[2],\n                          points: values[3],\n                        });\n                      });\n                  });\n                });\n              });\n            })\n            .then(() => {\n              // Zakończ po zescrapowaniu danych\n              driver.quit();\n              this.isLoading = false;\n            })\n            .catch((error) => {\n              console.error(\"Błąd podczas zescrapowania danych:\", error);\n              this.error = \"Wystąpił błąd podczas pobierania danych.\";\n              this.isLoading = false;\n            });\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.error {\n  color: red;\n}\n</style>\n"],"mappings":";;gEAGIA,mBAAA,CAAqB,YAAjB,cAAY;gEAChBA,mBAAA,CAAmC,WAAhC,8BAA4B;;EAJnCC,GAAA;AAAA;;EAAAA,GAAA;EAQsBC,KAAK,EAAC;;;EAR5BD,GAAA;AAAA;gEAYQD,mBAAA,CAMQ,gB,aALNA,mBAAA,CAIK,a,aAHHA,mBAAA,CAAgB,YAAZ,SAAO,G,aACXA,mBAAA,CAAgB,YAAZ,SAAO,G,aACXA,mBAAA,CAAe,YAAX,QAAM,E;;;uBAfpBG,mBAAA,CA2BM,cA1BJC,YAAA,CAAeC,sBAAA,GACfC,UAAqB,EACrBC,UAAmC,EAExBC,KAAA,CAAAC,SAAS,I,cAApBN,mBAAA,CAA+C,OANnDO,UAAA,EAM0B,qBAAmB,KAN7CC,mBAAA,gBAQeH,KAAA,CAAAI,KAAK,I,cAAhBT,mBAAA,CAAiD,OAAjDU,UAAiD,EAAAC,gBAAA,CAAdN,KAAA,CAAAI,KAAK,oBAR5CD,mBAAA,gB,CAUgBH,KAAA,CAAAC,SAAS,KAAKD,KAAA,CAAAI,KAAK,I,cAA/BT,mBAAA,CAiBM,OA3BVY,UAAA,GAWMf,mBAAA,CAeQ,gBAdNgB,UAMQ,EACRhB,mBAAA,CAMQ,iB,kBALNG,mBAAA,CAIKc,SAAA,QAxBfC,WAAA,CAoBsCV,KAAA,CAAAW,KAAK,EApB3C,CAoBsBC,IAAI,EAAEC,KAAK;yBAAvBlB,mBAAA,CAIK;MAJ+BF,GAAG,EAAEoB;IAAK,IAC5CrB,mBAAA,CAA4B,YAAAc,gBAAA,CAArBM,IAAI,CAACE,QAAQ,kBACpBtB,mBAAA,CAAwB,YAAAc,gBAAA,CAAjBM,IAAI,CAACG,IAAI,kBAChBvB,mBAAA,CAA0B,YAAAc,gBAAA,CAAnBM,IAAI,CAACI,MAAM,iB;0CAvB9Bb,mBAAA,e"},"metadata":{},"sourceType":"module","externalDependencies":[]}